<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alex Strick van Linschoten">
<meta name="dcterms.date" content="2016-09-09">
<meta name="description" content="How I finished my PhD by adopting a four-hour daily writing routine inspired by Cal Newport’s Deep Work.">

<title>PhD Tools: The Secret to Finishing Your PhD – Alex Strick van Linschoten</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script defer="" data-domain="alexstrick.com" src="https://plausible.io/js/script.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="PhD Tools: The Secret to Finishing Your PhD – Alex Strick van Linschoten">
<meta property="og:description" content="How I finished my PhD by adopting a four-hour daily writing routine inspired by Cal Newport’s Deep Work.">
<meta property="og:image" content="https://alexstrick.com/personal/images/2016-09-09-phd-tools-the-secret-to-finishing-your-phd/32dff6b9d96e_image-asset.avif">
<meta property="og:site_name" content="Alex Strick van Linschoten">
<meta name="twitter:title" content="PhD Tools: The Secret to Finishing Your PhD – Alex Strick van Linschoten">
<meta name="twitter:description" content="How I finished my PhD by adopting a four-hour daily writing routine inspired by Cal Newport’s Deep Work.">
<meta name="twitter:image" content="https://alexstrick.com/personal/images/2016-09-09-phd-tools-the-secret-to-finishing-your-phd/32dff6b9d96e_image-asset.avif">
<meta name="twitter:creator" content="@strickvl">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Alex Strick van Linschoten</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Technical</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../personal.html"> 
<span class="menu-text">Personal</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../til.html"> 
<span class="menu-text">TIL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/strickvl"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://sigmoid.social/web/@alexstrick"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/strickvl"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-rss" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">RSS</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-rss">    
        <li>
    <a class="dropdown-item" href="../index.xml">
 <span class="dropdown-text">Technical RSS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../personal.xml">
 <span class="dropdown-text">Personal RSS</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PhD Tools: The Secret to Finishing Your PhD</h1>
  <div class="quarto-categories">
    <div class="quarto-category">phd</div>
    <div class="quarto-category">productivity</div>
    <div class="quarto-category">phdtoolsseries</div>
    <div class="quarto-category">work</div>
    <div class="quarto-category">writing</div>
  </div>
  </div>

<div>
  <div class="description">
    How I finished my PhD by adopting a four-hour daily writing routine inspired by Cal Newport’s Deep Work.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alex Strick van Linschoten </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 9, 2016</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>[This is part of a series on the tools I used to write my PhD. Check out <a href="../blog?tag=phdtoolsseries">the other parts here</a>.]</em></p>
<p><img src="images/2016-09-09-phd-tools-the-secret-to-finishing-your-phd/32dff6b9d96e_image-asset.avif" class="img-fluid"></p>
<p>Four Perfect Hours. Repeat every day for two and a half months, and you have your PhD.</p>
<p>At least, that’s how it worked for me. I was in Holland, living near a little town called <a href="https://en.wikipedia.org/wiki/Delft">Delft</a>, full of picturesque waterways, bridges and historical buildings, and I had a deadline to finish my PhD. The previous months hadn’t been too great in terms of sitting down to write. There had been quite a few distractions outside my control, some entirely within my control, and I hadn’t managed to sit down and focus. Worse still, the times when I did focus would be offset by days (sometimes weeks) where nothing happened. So each time I rededicated myself to the PhD writeup I had to refamiliarise myself with sources and even the structure of what I was writing itself.</p>
<p>Cal Newport’s book <a href="https://www.amazon.com/Deep-Work-Focused-Success-Distracted-ebook/dp/B00X47ZVXM/ref=sr_1_1_twi_kin_2?sr=8-1&amp;ie=UTF8&amp;keywords=deep%2Bwork&amp;tag=soumet-20&amp;qid=1473159602">Deep Work</a>&nbsp;happened to be released around that time, and while none of the ideas he was suggesting were wholly original, the combination and explanation hit me just in the right place and at the right time. (The book is excellent, by the way, and I’d recommend giving it a read, particularly if you have some sort of big project that you’ve been finding hard to make progress on, though I will try to outline some of the key principles below).</p>
<p>Newport’s argument runs as follows: the ability to focus, to apply yourself to a particular creative task in a deep way, is a valuable skill. If you can manage to do this, you’ll deliver better work, become more valuable a commodity to employers or to your community, and you’ll feel more fulfilled.</p>
<p>The ways he suggests to reach that point are a collection of ‘golden oldies’ from the productivity world. Block off time specifically for your core work. <a href="../blog?tag=freedomapp">Turn off the internet</a> and anything that will distract you. Maybe try for a change of scenery. Don’t think you have an unlimited capacity for work – four hours is probably the limit. Take breaks, and take them regularly. (And so on).</p>
<p>I was glad <a href="http://calnewport.com/">Newport</a> takes time in his book to tackle the ‘always-on’ expectation that many employers and people in general have. If you’re not careful, you spend all your time replying to emails (and each email generates another email in response etc) or instant messages or pings on Slack or Facebook and so on. It’s not hard to imagine this scenario, particularly if you’re juggling a number of different projects or responsibilities. An increasingly connected world brings benefits, but you need to take efforts so that you don’t find yourself becoming hostage to the demands of the system. And I don’t use the word hostage lightly. Sometimes it really does feel like there is this responsibility to be continually ‘on’, to be responsive to all the requests coming your way – requests on your time, requests on your emotional energy, requests on your skills.</p>
<p>The solution Newport is prescribing – sometimes in a slightly preachy / curmudgeonly fashion, I’ll admit – is to abstract yourself out of this world. Not forever, and not as a non-negotiable proposition, but at certain times, for certain activities and to serve certain goals.</p>
<p>Hardly a week goes by without the announcement of some new study assessing the damage that comes from switching attention. I wouldn’t stake anything particularly valuable on the accuracy of the specific numbers they propose (i.e.&nbsp;<a href="https://www.fastcompany.com/944128/worker-interrupted-cost-task-switching">the 23 minutes proposed</a> as the cost of disruptions before you return to a state of focus), but my personal experience and anecdotal evidence does strongly suggest that there <em>is</em>&nbsp;a cost to switching your attention from one thing to another. If you’re writing about a complex issue, you’re going to find it much harder if your phone is ringing or pinging messages the whole time. (For this reason, I’ve turned off almost all notifications on my phones. If someone messages me on Signal or Whatsapp, I want to see that message when I’m ready to see it. I usually don’t want to be disturbed while I’m in the middle of something else. Obviously, this level of disconnection may be impossible for people with responsibilities, families etc, but consider employing it for specific times..)</p>
<p>Everyone tells you this when you start your PhD, and probably at every moment during, but it is true: the business of doing a PhD is connected with putting words down on a page. The more you do that, the closer (usually) you’ll get towards that end point. Even if those words are just initial thoughts or reflections to yourself, they will still be useful. You’ll be thinking on paper. And ‘writing’ doesn’t need to be paragraphs of prose. I’m a big outliner – though I concede that this may not fit with everyone’s work style – so I consider sitting down on a couch and drawing some diagrams of how ideas connect together,&nbsp;or doing a more structured ordered outline, to be useful work. With all these things, it’s possible to spend <em>too</em>&nbsp;much time on them, but in general they are useful and contribute to the overall work at hand.</p>
<p>As a corollary to this, anything which takes you away from writing is something which is detracting from your ability to complete your project. You need data, of course, and you need to read and fill your head with ideas, and to become familiar with a number of different domains etc. But it’s easy to get sidetracked into this ‘work’,&nbsp;since it is often exciting and interesting, even though it may not directly contribute to you finishing your thesis. Most of the time, the internet functions as a sort of crutch (emotional or otherwise) in many people’s writing workflow. Every time you need to look something up, you go to Google (or, better yet, <a href="https://duckduckgo.com/">DuckDuckGo</a>!) and then perhaps you get lost in a 30-minute black hole of discovery and cat gifs.</p>
<p>I’m a firm believer in separating out these processes. Writing is when you write. If you find there’s some fact you don’t know, you write a little comment to yourself in square brackets ([like this – look something up about x or y]) and then you know to look that up later when your internet comes back. But in the meanwhile, you can continue your train of thought, you can keep writing, keep thinking on the page. Your internet excursions may be useful in some sense, but most of the time they are highly inefficient. If you separate the two processes (writing and internet research)&nbsp;you’ll make <em>much</em>&nbsp;more progress with the former and streamline how much time you’re taking on the latter.</p>
<p>The routine I settled on after reading <em>Deep Work</em>&nbsp;was as follows:</p>
<ul>
<li><p>I’d arrive at the coffee shop at 8am on my bike, just as the doors opened. I’d order a tea, settle downstairs and unpack whatever notebooks or papers I’d brought with me.</p></li>
<li><p>At 8:15 on the dot, I’d begin writing.</p></li>
<li><p><a href="http://www.alexstrick.com/blog/phd-tools-freedom">Freedom app</a> has turned off the internet from 8am-12pm in any case, so there’s no way I can use it, though the cafe does offer free wifi. I have no way out. I just have to write.</p></li>
<li><p>I write for 45 minutes until my alarm tells me the session is over, and I have 15 minutes of break. In my break, I try to do things that refresh my body and my mind. I’ll get up, perhaps walk around a bit. I’ll do some light stretching to undo the fixed chair position I’ve been stuck in. Maybe I’ll chat briefly with the cafe staff upstairs. But I’ll be keeping an eye on the clock because at 9:15…</p></li>
<li><p>I start another session. (Note that some people might prefer a 25 mins writing : 5 mins break setup to their work. I prefer to write for longer and take a slightly longer break. But each to his/her own). I work until 10am, then take another break.</p></li>
<li><p>At this point I get another tea. (I’ll be writing more about tea later, but for now know that I’ve noticed I have certain tolerances to how much caffeine or <a href="http://www.lautrethe.com/caffeine-or-theine-what-s-the-difference.htm">theine</a> I can drink and still think usefully, so this is ideally calibrated to my body. YMMV.) At 10:15 I begin another session until 11.</p></li>
<li><p>By this point, I’m nearing the limits of what I can usefully do in a day. Newport suggests the same in his book, that most people have around 3-5 hours of ‘deep work’ capacity per day. 4 was a stretch for me, but I just about managed. In the break before the final session, I make sure to be conscious of how my body and mind are feeling, take stock of where my energy level is at, and perhaps calibrate the task or section to be tackled in that final session accordingly. Thus, I’m more likely to save a difficult new topic for the start of a new day, when I’m fresh, rather than try to start it at the end of the morning.</p></li>
<li><p>At 12pm, my work day is over. I sit back, feel good about what I’ve achieved (a little gratitude is often a good thing) and know that I don’t have anything else to do for the rest of the day.</p></li>
</ul>
<p>The deal I made with myself was this: if I sit in the chair and have my “Four Perfect Hours” in the morning, then the afternoons are mine to do with as I wish. Of course, these were often taken up with things like shopping, paying bills, washing clothes etc, though just as often I’d take my bike and ride around town in the sunshine, listening to podcasts. Or I’d go climbing in Delft’s bouldering centre. Or I’d go see a film at the cinema.</p>
<p>The one work-related task I’d allow myself to do in the afternoon was reading or anything relating to outlining. I usually found that any work I do to prepare myself for the writing process the next day was useful. This could be as simple as making a list of the key sources I’d need to refer to, or a brief list of points that I’d do well to write about, or it could be something like selecting quotes to highlight from a certain source. Usually it was something that that wouldn’t take more than 30-60 minutes, and it was never really ‘difficult’ mental work. But if I did that kind of work the day before, then I’d always find it valuable. (The problem was that I didn’t always do it, or find the time, or have the energy, so this wasn’t something I always managed to do, by any means).</p>
<p>I’d make sure to sleep at a reasonable time – since if I didn’t get enough sleep, the knock-on effect for my ability to write the next day would be significant. So sleep (as I’ll write about in a later post) was key. This meant setting an alarm to start getting ready for bed at around 9pm. By 9.30 or 10 I was usually in bed and I’d either listen to a bit of a podcast or an audiobook for 15 or 20 minutes, or perhaps read in a novel or something completely unrelated to work. More often than not, I’d skip that entirely and just sleep. Deep work is tiring, and demands a lot of your inner resources. Luckily, it is extremely rewarding, too.</p>
<p>I hope I’ve made the case for having fixed times where you are writing. This applies in particular to those who are in the write-up phase of their PhD or writing project. The idea that you should wait to be somehow ‘inspired’ is less common in technical disciplines like non-fiction, but nevertheless it’s worth a reminder that writing is work of some kind. The more you can do to preserve that time as a core protected space, the more you’ll produce.</p>
<p>As a final side-note, post-PhD I am not in such a regimented routine. The six-days-per-week schedule of four perfect hours (Sunday was always completely ‘off’; rest is important) helped me complete my draft and make the final corrections to get the text ready to submit to the examination board. Nowadays, I’m still writing, though less as part of a structured single project. I know, though, that when I take 2 or 3 core hours and I spend them in a focused way, I usually find this time to be of value. For this reason, I <a href="https://www.meetup.com/Shut-Up-and-Write-Amman/">started the Amman chapter</a> of the Shut Up and Write meetup group (it’s sort of part of <a href="https://thesiswhisperer.com/shut-up-and-write/">a wider, though unconnected, network</a> of ‘Shut Up and Write’ groups around the world), where I get three hours to work on producing thoughts on paper. I think no matter what I end up working on, whether it’s research or blog posts or fiction or even my language studies, writing is always something that will bring value to my life and make it richer, so anything that keeps me regularly doing that is useful for me.</p>
<p>[UPDATE: I currently do part-time work as a coach to help people working through big projects like learning new skills, large writing projects like PhDs and learning new languages. Please feel free to <a href="https://incrementalelephant.org/contact/">get in touch with me</a> for more information.]</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/alexstrick\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="strickvl/mlops-dot-systems" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->




</body></html>